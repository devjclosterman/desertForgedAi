document.addEventListener("DOMContentLoaded",()=>{const chatContainer=document.getElementById("llama-chat-container");chatContainer.innerHTML=`
    <input type="text" id="llama-input" placeholder="Ask me anything..." />
    <button id="llama-send">Send</button>
    <div id="llama-output"></div>
  `;const sendButton=document.getElementById("llama-send");const inputBox=document.getElementById("llama-input");const output=document.getElementById("llama-output");sendButton.addEventListener("click",async()=>{const prompt=inputBox.value;if(!prompt)return;output.innerHTML+=`<div><strong>You:</strong> ${prompt}</div>`;inputBox.value="";try{const res=await fetch("http://localhost:8000/client/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:prompt,client_id:"demoUser"})});const data=await res.json();output.innerHTML+=`<div><strong>Bot:</strong> ${data.reply}</div>`;fetch("/wp-admin/admin-ajax.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"llama_log",messages:1,cta:false,}),});}catch(err){output.innerHTML+=`<div><em>Error: ${err.message}</em></div>`;}});});